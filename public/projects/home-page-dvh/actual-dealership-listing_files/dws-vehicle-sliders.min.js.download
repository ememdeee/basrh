var DealerCenter;!function(l){var e,r,i;function b(){}e=l.WebSite||(l.WebSite={}),r=e.Plugins||(e.Plugins={}),b.init=function(){jQuery(function(){b.hookSlider()})},b.hookSlider=function(){var l=jQuery,e=l(".dws-vehicle-sliders");0<e.length?e.each(function(){var e,r,i=l(this),a=i.data("slider-id");a&&(e=0<l('.dws-vehicle-slider-settings[data-slider-id="'+a+'"]').length?JSON.parse(l('.dws-vehicle-slider-settings[data-slider-id="'+a+'"]').html()):{},r=i.find(".dws-vehicle-slider"),"recently-viewed"!=e.vehicleSliderType?(b.renderSlider(r,e),b.renderViewHeaderCss(e)):b.renderRecentlyViewedVehicles(e))}):b.setVehicleSliderVisibilityBySliderSettings()},b.renderSlider=function(i,l){var a=jQuery('.dws-vehicle-sliders[data-slider-id="'+l.sliderId+'"]'),e=[{}],r=l.enableResponsiveSlide?l.maxNumberOfVehiclesToShow:l.numberOfVehiclesToShow,t=!!l.isAutoScroll,n=1;l.minSliderItemsToShowInMobile&&l.maxNumberOfVehiclesToShow>=l.minSliderItemsToShowInMobile&&(n=l.minSliderItemsToShowInMobile),l.enableResponsiveSlide&&(e=[{breakpoint:1440,settings:{slidesToShow:4}},{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:992,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:n}}]),i.on("init",function(e,r){a.removeClass("invisible"),b.updateItemUrl(i,l)}),i.slick({arrows:!0,dots:!1,infinite:!0,slidesToShow:r,slidesToScroll:1,autoplay:t,autoplaySpeed:2e3,lazyLoad:"anticipated",respondTo:"window",responsive:e,nextArrow:'<button type="button" class="dws-slick-next slick-next">NEXT</button>',prevArrow:'<button type="button" class="dws-slick-prev slick-prev">PREVIOUS</button>'}).on("lazyLoadError",function(e,r,i,a){i.attr("src",l.dwsDefaultNoImage)})},b.renderViewHeaderCss=function(e){e.renderHeaderCss&&("featured"==e.vehicleSliderType?b.renderHideFeaturedVehiclesHeaderCss():b.renderHideSimilarVehiclesHeaderCss())},b.updateItemUrl=function(e,u){var r,m=jQuery;e&&0!=e.length&&u.extraDcidInventoryUrlOptions&&0!=u.extraDcidInventoryUrlOptions.length&&(r=e.find("li.dws-slider"))&&0!=r.length&&r.each(function(e,r){var i=m(r),a=i.find("[data-dcid]").data("dcid"),l=i.find("a").attr("href");if(a&&a!=u.dcid&&u.inventoryUrlOpenNewTab){var t=window.location.hostname,n=void 0;try{n=new URL(l).hostname}catch(e){n="",console.error(e)}""!==n&&t!=n&&i.find("a").attr("target","_blank"),t=window.location.hostname,n=void 0;try{n=new URL(l).hostname}catch(e){n="",console.error(e)}""!==n&&t!=n&&i.find("a").attr("target","_blank")}if("recently-viewed"==u.vehicleSliderType&&a!=u.dcid){for(var s="",c=Object.entries(u.extraDcidInventoryUrlOptions),d=0,o=c.length;d<o;d++){var h=c[d];if(h.includes(""+a)){s=h[1];break}}if(l&&s){var t=window.location.hostname,p=void 0;try{p=new URL(s).hostname}catch(e){p="",console.error(e)}""===p&&t!=p||i.find("a").attr("target","_self");var g=""+s+l;i.find("a").attr("href",g)}}})},b.renderRecentlyViewedVehicles=function(C){var f,e,r,i,I=jQuery,a=l.WebSite.Plugins.DWSUtils.getCookie("dws-recent-vehicles");""!==a?(f=C.sliderId,r=(e=JSON.parse(a)).join(","),i=e.reverse(),I.ajax({url:ajaxObject.ajaxUrl,type:"post",data:{action:"dws_inventory_vehicle_slider",stockNumbers:r,dcid:C.dcid,vehicleSliderSettings:C},success:function(e){var V,r;void 0!==e.Vehicles&&null!==e.Vehicles&&0<Object.keys(e.Vehicles).length?(V=e.Vehicles,I.each(i,function(e,r){var i,a=V[r],l=b.buildVehicleImageUrl(a,C.dwsInventoryMediumSize.width,C.dwsInventoryMediumSize.height),t=b.createQueryParameterVehicleDetailUrl(C,a),n=b.translateVehicleCustomMarkup(a,C.itemTitleFormat),s=b.translateVehicleCustomMarkup(a,C.itemTitleFormat),c=b.renderVehicleClassTagHtml(a,C),d=b.renderInventoryStatusTagHtml(a,C),o=b.formatWithSeparator((a.Odometer||"").toString()),h="",p="Price",g=a.VehiclePrice;C.showOriginalPrice&&(h=C.originalPriceLabel),C.discountedPriceLabel&&(p=C.discountedPriceLabel),i=null===g||0===g?"CALL FOR PRICE":"$"+b.formatWithSeparator((g||"").toString()),C.displaySoldVehicles&&1==a.Status&&(i="SOLD"),"1"==a.VehicleClass?a.VehicleClass="New":"2"==a.VehicleClass&&(a.VehicleClass="Used"),"3"==a.VehicleClass&&(a.VehicleClass="Certified");var u="";C.showOriginalPrice&&(u=b.getCrossedOutPrice(a)),""==u&&(h="",p=C.originalPriceLabel);var m,v,y="";C.showDownpaymentPrice&&(v=null===(m=a.RequiredDownAmount)||0==m?"CALL FOR PRICE":"$"+b.formatWithSeparator((m||"").toString()),C.showOriginalPrice&&"show_down_price"==C.showDownpaymentPriceDisplay&&(y=""!=u?u:i));var S=function(e,r){return void 0===e&&(e=null),void 0===r&&(r="-"),"undefined"===e||null===e||"null"===e||""===e.trim()?r:"$0"===e?"":_.escape(e)},w=I("#DWS_Vehicle_Slider_Recently_Viewed_Template").html();w=C.displayVehicleSliderTemplate?(S=function(e,r){return void 0===e&&(e=null),void 0===r&&(r="-"),"undefined"===e||null===e||"null"===e?r:"$0"===e?"":_.escape(e)},w.replace(/{{vehicleDetailUrl}}/g,S(t)).replace(/{{Year}}/g,S(a.Year)).replace(/{{Make}}/g,S(a.Make)).replace(/{{Model}}/g,S(a.Model)).replace(/{{VehicleInfoId}}/g,S(a.VehicleInfoId)).replace(/{{StockNumber}}/g,S(a.StockNumber)).replace(/{{Vin}}/g,S(a.Vin)).replace(/{{BodyType}}/g,S(a.BodyType)).replace(/{{Trim}}/g,S(a.Trim)).replace(/{{YMMT}}/g,S(a.YMMT)).replace(/{{Engine}}/g,S(a.Engine)).replace(/{{DcId}}/g,S(a.DCId)).replace(/{{Drivetrain}}/g,S(a.Drivetrain)).replace(/{{Doors}}/g,S(a.Doors)).replace(/{{Transmission}}/g,S(a.Transmission)).replace(/{{TransmissionDetail}}/g,S(a.TransmissionDetail)).replace(/{{ExteriorColor}}/g,S(a.ExteriorColor)).replace(/{{InteriorColor}}/g,S(a.InteriorColor)).replace(/{{VehiclePrice}}/g,S(i)).replace(/{{AskingPrice}}/g,S(a.AskingPrice)).replace(/{{CityMPG}}/g,S(a.CityMPG)).replace(/{{HighwayMPG}}/g,S(a.HighwayMPG)).replace(/{{VehicleClass}}/g,S(a.VehicleClass)).replace(/{{ClassLabel}}/g,S(a.ClassLabel)).replace(/{{VehicleClassTag}}/g,S(a.VehicleClass)).replace(/{{VehicleClassHTML}}/g,c).replace(/{{InventoryStatusTagHTML}}/g,d).replace(/{{Mileage}}/g,S(o)).replace(/{{MPG}}/g,S(a.MPG)).replace(/{{FuelType}}/g,S(a.FuelType)).replace(/{{TitleBrand}}/g,S(a.TitleBrand)).replace(/{{Status}}/g,S(a.Status)).replace(/{{CustomStatus}}/g,S(a.CustomStatus)).replace(/{{Cylinder}}/g,S(a.Cylinder)).replace(/{{Displacement}}/g,S(a.Displacement)).replace(/{{Location}}/g,S(a.Location)).replace(/{{DealerName}}/g,S(a.DealerName)).replace(/{{DealerAddress}}/g,S(a.DealerAddress)).replace(/{{DealerPhone}}/g,S(a.DealerPhone)).replace(/{{VehicleVDPUrl}}/g,S(t)).replace(/{{VehicleDownAmount}}/g,S(v)).replace(/{{VehicleOriginalPrice}}/g,S(y)).replace(/{{CrossedOutPrice}}/g,u).replace(/{{vehicleImageUrl}}/g,S(l)).replace(/{{vehicleImageAlt}}/g,S(s)).replace(/{{originalPriceDisplayLabel}}/g,h).replace(/{{showDownpaymentPriceDisplay}}/g,C.showDownpaymentPriceDisplay)):w.replace(/{{vehicleDetailUrl}}/g,S(t)).replace(/{{vehicleImageUrl}}/g,S(l)).replace(/{{vehicleImageAlt}}/g,S(s)).replace(/{{vehicleTitleFormatString}}/g,S(n)).replace(/{{StockNumber}}/g,S(a.StockNumber)).replace(/{{priceToDisplay}}/g,S(i)).replace(/{{Mileage}}/g,o).replace(/{{IntColor}}/g,S(a.InteriorColor)).replace(/{{originalPrice}}/g,S(y,"")).replace(/{{CrossedOutPrice}}/g,u).replace(/{{originalPriceDisplayLabel}}/g,h).replace(/{{priceToDisplayLabel}}/g,p).replace(/{{downPaymentPriceToDisplay}}/g,S(v)),I('.dws-vehicle-sliders[data-slider-id="'+f+'"] .dws-vehicle-slider').append(w)}),r=I('.dws-vehicle-sliders[data-slider-id="'+f+'"] .dws-vehicle-slider'),b.renderSlider(r,C)):b.renderHideRecentlyViewedVehiclesHeaderCss()}})):b.renderHideRecentlyViewedVehiclesHeaderCss()},b.renderHideRecentlyViewedVehiclesHeaderCss=function(){var e=jQuery;b.hiddenRecentlyViewedHeaderCssRendered||(e("head").eq(0).append("<style>.dws-recently-viewed-vehicles-header{display:none !important;}</style>"),b.hiddenRecentlyViewedHeaderCssRendered=!0)},b.renderHideFeaturedVehiclesHeaderCss=function(){var e=jQuery;b.hiddenFeaturedVehiclesHeaderCssRendered||(e("head").eq(0).append("<style>.dws-featured-vehicles-header{display:none !important;}</style>"),b.hiddenFeaturedVehiclesHeaderCssRendered=!0)},b.renderHideSimilarVehiclesHeaderCss=function(){var e=jQuery;b.hiddenSimilarVehiclesHeaderCssRendered||(e("head").eq(0).append("<style>.dws-similar-vehicle-header{display:none !important;}</style>"),b.hiddenSimilarVehiclesHeaderCssRendered=!0)},b.renderVehicleClassTagHtml=function(e,r){var i,a,l="";return r.vehicleClassTagPosition&&(a=(i=b.getClassLabel(e)).replace(/\s+/g,"-").toLowerCase(),l="<span class='dws-vehicle-class-tag "+r.vehicleClassTagPosition+" dws-vehicle-class-"+a+"'>"+i+"</span>"),l},b.renderInventoryStatusTagHtml=function(e,r){var i,a,l="";return r.inventoryStatusTagPosition&&(a=(i=b.getInventoryStatusLabel(e)).replace(/\s+/g,"-").toLowerCase(),l="<span class='dws-inventory-status-tag "+r.inventoryStatusTagPosition+" dws-status-"+a+"'>"+i+"</span>"),l},b.getInventoryStatusLabel=function(e){var r="";switch(e.Status){case 1:r="Sold";break;case 2:r="Unwound";break;case 3:r="Pending";break;case 5:r="Appraisal";break;case 6:r="Trade-in";break;case 8:r="Inbound";break;case 9:r="In Recon";break;case 0:default:r="In Inventory"}return r},b.getClassLabel=function(e){var r="";switch(e.VehicleClass){case 1:r="New";break;case 2:r="Used";break;case 3:r="Certified"}return r},b.createQueryParameterVehicleDetailUrl=function(e,r){var i="inventory"==e.vehicleDetailBaseUrl?"":e.vehicleDetailBaseUrl,a=encodeURIComponent(r.SlugMake),l=encodeURIComponent(r.SlugModel),t=encodeURIComponent(r.StockNumber).toLowerCase(),n=""==i?"/inventory/"+a+"/"+l+"/"+t+"/":"/"+i+"/"+a+"/"+l+"/"+t+"/";return n},b.buildVehicleImageUrl=function(e,r,i){var a=null!==e.VehicleImages&&0<e.VehicleImages.length?DWS_CONST_INV_IMAGE_URL.replace("{CompanyId}",e.CompanyId).replace("{DocumentId}",e.VehicleImages[0].DocumentId).replace("{width}",r.toString()).replace("{height}",i.toString()):DWS_CONST_INV_IMAGE_NA_URL;return a},b.translateVehicleCustomMarkup=function(e,r){var i=b.buildVehicleImageFileName(e),a=null!==e.VehiclePrice&&0<e.VehiclePrice?"$"+b.formatWithSeparator(e.VehiclePrice.toString()):"Call for price";return r.replace(/{{Year}}/g,b.wrapEmpty(e.Year+"")).replace(/{{Make}}/g,b.wrapEmpty(e.Make+"")).replace(/{{Model}}/g,b.wrapEmpty(e.Model+"")).replace(/{{Trim}}/g,b.wrapEmpty(e.Trim+"")).replace(/{{ImageFileName}}/g,i).replace(/{{Mileage}}/g,b.wrapEmpty(b.formatWithSeparator((e.Odometer||"")+""))).replace(/{{VehiclePrice}}/g,a)},b.formatWithSeparator=function(e){if(0<e.indexOf(".")){var r=Number(e).toFixed(2);return Number(r).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}return e.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},b.wrapEmpty=function(e){return void 0===e&&(e=null),"undefined"===e||null===e||"null"===e||""===e.trim()?"":_.escape(e)},b.getCrossedOutPrice=function(e){var r="";return 0<e.VehiclePrice&&0<e.AskingPrice&&e.AskingPrice>e.VehiclePrice&&(r="$"+b.formatWithSeparator(e.AskingPrice.toString())),r},b.buildVehicleImageFileName=function(e,r){return void 0===r&&(r=0),null!==e.VehicleImages&&0<e.VehicleImages.length?void 0!==e.VehicleImages[r].FileName&&null!==e.VehicleImages[r].FileName?e.VehicleImages[r].FileName:"-":DWS_CONST_INV_IMAGE_NA_FILENAME},b.setVehicleSliderVisibilityBySliderSettings=function(){var e=jQuery(".dws-vehicle-slider-settings");e.length&&e.each(function(e,r){var i,a=jQuery(r);try{i=JSON.parse(a.html())}catch(e){console.error("Parsing error:",e),i={}}i.vehicleSliderType&&"recently-viewed"!==i.vehicleSliderType&&b.renderViewHeaderCss(i)})},b.hiddenRecentlyViewedHeaderCssRendered=!1,b.hiddenFeaturedVehiclesHeaderCssRendered=!1,b.hiddenSimilarVehiclesHeaderCssRendered=!1,i=b,r.VehicleSliders=i}(DealerCenter=DealerCenter||{}),jQuery(function(){DealerCenter.WebSite.Plugins.VehicleSliders.init()});