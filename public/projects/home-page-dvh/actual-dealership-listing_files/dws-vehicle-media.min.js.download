var DealerCenter,__spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,i=0,d=arguments.length;i<d;i++)e+=arguments[i].length;for(var o=Array(e),a=0,i=0;i<d;i++)for(var s=arguments[i],n=0,t=s.length;n<t;n++,a++)o[a]=s[n];return o};!function(e){var i,d,o;function k(){}i=e.WebSite||(e.WebSite={}),d=i.Plugins||(i.Plugins={}),k.init=function(){var a,e,s,i,n,d,o=jQuery,t=o("#DWS_Vehicle_Media"),l=JSON.parse(o("#DWS_Vehicle_Media_Settings").html());"Slider"==l.mediaDisplay&&(a=o("#DWS_Vehicle_Media ul.dws-vdp-media-slider"),e=o("#DWS_Vehicle_Media ul.dws-vdp-media-slider-thumbnail"),s=l.icons_position?l.icons_position:"dws-vdp-media-bottom-left-pos",i=l.icons?l.icons:"","show"==(n=i.display_image_icon||i.display_video_icon||i.display_360_icon||i.display_share_icon?"show":"")&&(n="basic photo navigation"==l.action_on_image_click||"display photos in pop-up"==l.action_on_image_click||"display all photos vertically"==l.action_on_image_click||"navigate to page"==l.action_on_image_click?"show":""),k.setupVehicleMediaSlickSlider(a,l),""==l.mediaLayout&&k.setupVehicleMediaThumbnailSlickSlider(e,l),o(window).on("load",function(){var e=a.find(".dws-slick-slide:not(.slick-cloned) .dws-iframe-cloudflare-video");k.createIframeElementForCloudflareVideo(a,l,e);var i,d,o=a.find("li.dws-slick-slide:not(.slick-cloned)").length;0<a.find(".dws-play-video-button, .dws-media-icons-videos-play, .dws-cloudflare-slider").length&&--o,0<a.find(".dws-360-viewer-slider").length&&--o,n&&(k.setupMediaIcon(a,l,{mediaImageIconCount:o,mediaIconPosition:s,mediaIconPopupId:""},i="#DWS_Vehicle_Media"),"display photos in pop-up"==l.action_on_image_click?k.setupMediaIconDisplayPhotosInPopup(a,l,i):"display all photos vertically"==l.action_on_image_click?k.setupMediaIconDisplayAllPhotosVertically(a,l,i):k.setupMediaIconImagePopUp(a,l,i),a.addClass("dws-vdp-media-icon-slider")),n||k.setupBigImagePopUp(a,l),l.showVehicleImageCount&&(d=t.find(".dws-vdp-media-slider"),"layout_1"==l.mediaLayout&&(d=d.parent()),k.setupMediaCounter(t,d,l,1,l.vehicleImageCount))}),l.video_source.toUpperCase(),0<a.find(".dws-play-video-button, .dws-media-icons-videos-play").length&&(n&&a.find(".dws-play-video-button").attr("data-icon","videoIcon"),a.find(".dws-play-video-button, .dws-media-icons-videos-play").on("click ",function(e){var i;n||(i=a.find(".dws-video-with-popup").attr("data-video-url"),k.setupVideoModal(i,a,l))})),0==l.vehicleImageCount&&t.removeClass("invisible")),"Grid"==l.mediaDisplay&&(d=o("#DWS_Vehicle_Media .dws-vdp-media-grid"),0<o(d).length&&(o(d).each(function(e,i){k.setupBigImagePopUp(i,l)}),k.setupGridMediaPopup(".dws-vdp-media-grid-img-box",l))),k.updateImageUrlForBetterQuality()},k.setupVehicleMediaSlickSlider=function(t,l){var c=jQuery,r=c("#DWS_Vehicle_Media"),e=null,p=c("#DWS_Vehicle_Media ul.dws-vdp-media-slider"),m=c("#DWS_Vehicle_Media.dws-vdp-vehicle-media-slider-container .dws-pause-play-action-icon"),a=!0,i=!1,d=l.navigation?l.navigation:"thumbnail";""==l.mediaLayout&&(l.enableResponsiveSlide=!1,l.numberOfVehiclesToShow=1,e=c("#DWS_Vehicle_Media.dws-vdp-vehicle-media-slider-container ul.dws-vdp-media-slider-thumbnail"),"dots"==d&&(i=!0,c("#DWS_Vehicle_Media.dws-vdp-vehicle-media-slider-container").css({"margin-bottom":"25px"})));var o=[{breakpoint:5e3,settings:{slidesToShow:5}},{breakpoint:1919,settings:{slidesToShow:4}},{breakpoint:1439,settings:{slidesToShow:4}},{breakpoint:1365,settings:{slidesToShow:3}},{breakpoint:1199,settings:{slidesToShow:l.numberOfVehiclesToShow}},{breakpoint:991,settings:{slidesToShow:2,variableWidth:!1}},{breakpoint:767,settings:{slidesToShow:1,variableWidth:!1}}];"layout_1"==l.mediaLayout&&(o=[{breakpoint:5e3,settings:{slidesToShow:5}},{breakpoint:1919,settings:{slidesToShow:4}},{breakpoint:1439,settings:{slidesToShow:4}},{breakpoint:1365,settings:{slidesToShow:3}},{breakpoint:1199,settings:{slidesToShow:l.numberOfVehiclesToShow}},{breakpoint:991,settings:{slidesToShow:2,variableWidth:!1}},{breakpoint:767,settings:{slidesToShow:1,variableWidth:!1}}],1==l.vehicleImageCount&&l.enableVariableSlideWidth&&(o=[{breakpoint:991,settings:{slidesToShow:1,variableWidth:!1}},{breakpoint:767,settings:{slidesToShow:1,variableWidth:!1}}]));var s={autoplay:l.isAutoScroll,autoplaySpeed:l.sliderPlaySlideshowInterval,arrows:!0,draggable:!1,dots:i,infinite:!0,lazyLoad:"anticipated",nextArrow:'<button type="button" class="dws-slick-next slick-next">Next</button>',prevArrow:'<button type="button" class="dws-slick-prev slick-prev">Previous</button>',responsive:l.enableResponsiveSlide?o:[{}],respondTo:"slider",slidesToScroll:1,slidesToShow:l.numberOfVehiclesToShow,variableWidth:l.enableVariableSlideWidth};console.warn(l),console.warn(0<l.sliderRows),0<l.sliderRows&&(s.rows=parseInt(l.sliderRows),s.slidesPerRow=4),"thumbnail"==l.navigation&&(s.asNavFor=e),t.on("init",function(e,i){r.removeClass("invisible"),r.find(".dws-vehicle-image-container"),r.find(".dws-vehicle-image-container").is("div")&&(r.find(".spinner-container").css({display:"none"}),r.find(".dws-slick-slide").css({background:"none"}))}),t.slick(s).on("beforeChange",function(e,i,d,o){var a,s,n;"layout_1"==l.mediaLayout&&(p=p.parent()),p.find("iframe").contents().find("video, stream, audio").on("play",function(){m.find("i").hasClass("dws-icomoon-pause")&&(m.find("i").removeClass("dws-icomoon-pause").addClass("dws-icomoon-play2"),t.slick("slickPause"))}),l.isAutoScroll&&p.find(".media-pause-slide, .dws-basic-photo-nav, .dws-imcc-basic-photo-nav, .dws-media-slide-image, .dws-play-video-button").on("click touchstart",function(){m.find("i").hasClass("dws-icomoon-pause")&&(m.find("i").removeClass("dws-icomoon-pause").addClass("dws-icomoon-play2"),t.slick("slickPause"))}),k.pauseVideoOrAudio(),p.find(".dws-media-slide-image").not(".slick-active, .slick-cloned, .dws-media-slide-360, .dws-media-slide-video").find(".spinner-container").css({display:"block"}),p.find(".dws-slick-slide").not(".slick-active, .slick-cloned, .dws-media-slide-360, .dws-media-slide-video").css({background:"rgba(194,194,194,0.15)"}),0<r.find(".dws-slick-slide.slick-active.dws-media-slide-image .slick-lazyload-error").length&&(p.find(".spinner-container").css({display:"none"}),r.find(".dws-slick-slide").css({background:"none"})),l.showVehicleImageCount&&(a=c(i.$slides.get(o)),s=c(r).find(".dws-vdp-media-counter-container"),a.hasClass("dws-media-slide-image")?(n=r.find(".dws-vdp-media-slider"),"layout_1"==l.mediaLayout&&(n=n.parent()),k.setupMediaCounter(r,n,l,o+1,l.vehicleImageCount)):c(s).remove())}).on("afterChange",function(e,i,d,o){p.find(".spinner-container").css({display:"none"}),r.find(".dws-slick-slide").css({background:"none"}),0<r.find(".dws-slick-slide.slick-active.dws-media-slide-image .slick-lazyload-error").length&&(p.find(".dws-media-slide-image").not(".slick-cloned, .dws-media-slide-360, .dws-media-slide-video").find(".spinner-container").css({display:"none"}),p.find(".dws-slick-slide").not(".slick-cloned, .dws-media-slide-360, .dws-media-slide-video").css({background:"none"}));var a=t.find(".dws-slick-slide.slick-cloned .dws-iframe-cloudflare-video");k.createIframeElementForCloudflareVideo(t,l,a)}).on("lazyLoaded",function(e,i,d,o){a&&setTimeout(function(){r.find(".spinner-container").css({display:"none"}),r.find(".dws-slick-slide").css({background:"none"})},500),a=!1}).on("lazyLoadError",function(e,i,d,o){d.attr("src",l.dwsDefaultNoImage),p.find(".dws-media-slide-image").not(".slick-active, .slick-cloned, .dws-media-slide-360, .dws-media-slide-video").find(".spinner-container").css({display:"block"}),p.find(".dws-slick-slide").not(".dws-media-slide-360, .dws-media-slide-video").css({background:"rgba(194,194,194,0.15)"}),0<r.find(".dws-slick-slide.slick-active.dws-media-slide-image .slick-lazyload-error").length&&(r.find(".spinner-container").css({display:"none"}),r.find(".dws-slick-slide").css({background:"none"}))});var n=t.slick("getSlick").slideCount;n<=1&&t.find(".dws-vehicles-slider-item-container img").css("margin","auto"),c(window).on("orientationchange resize load",function(){c(window).width()<991&&1==l.enableVariableSlideWidth&&(t.find(".dws-vehicles-slider-item-container").removeAttr("style"),p.find(".dws-media-slide-image").not(".dws-media-slide-360 .dws-vehicles-slider-item-container").find("img").attr("onerror",'this.src="'+l.vehicleMediaPlaceholderUrl+'";this.style.width="auto";this.style.height="auto"'),p.find(".dws-media-slide-image").not(".dws-media-slide-360 .dws-vehicles-slider-item-container").find("img").removeAttr("style")),p.find(".dws-media-slide-360").css({height:p.height()})}),l.isAutoScroll&&1<n&&m.show(),m.on("click touchstart",function(e){e.stopPropagation(),e.preventDefault();var i=c(this).find("i");c(this).find("i").hasClass("dws-icomoon-pause")?(t.slick("slickPause"),i.removeClass("dws-icomoon-pause").addClass("dws-icomoon-play2")):(t.slick("slickPlay"),i.removeClass("dws-icomoon-play2").addClass("dws-icomoon-pause"),k.pauseVideoOrAudio())})},k.setupVehicleMediaThumbnailSlickSlider=function(e,a){var r,s,p,n,m,i,d;"thumbnail"==a.navigation&&(r=jQuery,s=r("#DWS_Vehicle_Media ul.dws-vdp-media-slider"),p=r("#DWS_Vehicle_Media .dws-vdp-media-slider-thumbnail"),n=r("#DWS_Vehicle_Media.dws-vdp-vehicle-media-slider-container .dws-pause-play-action-icon"),d={arrows:m=!0,draggable:!1,dots:!1,infinite:!0,lazyLoad:"anticipated",nextArrow:'<button type="button" class="dws-slick-next slick-next">Next</button>',prevArrow:'<button type="button" class="dws-slick-prev slick-prev">Previous</button>',respondTo:"slider",responsive:[{breakpoint:767,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:425,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:375,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:320,settings:{slidesToShow:2,slidesToScroll:2}}],slidesToShow:i=a.sliderThumbnailCol?parseInt(a.sliderThumbnailCol):5,slidesToScroll:i,asNavFor:s,focusOnSelect:!0},e.slick(d).on("beforeChange",function(e,i,d,o){p.find("iframe").contents().find("video, stream, audio").on("play",function(){n.find("i").hasClass("dws-icomoon-pause")&&(n.find("i").removeClass("dws-icomoon-pause").addClass("dws-icomoon-play2"),s.slick("slickPause"))}),a.isAutoScroll&&p.find(".media-pause-slide, .dws-basic-photo-nav, .dws-imcc-basic-photo-nav, .dws-media-slide-image, .dws-play-video-button").on("click touchstart",function(){n.find("i").hasClass("dws-icomoon-pause")&&(n.find("i").removeClass("dws-icomoon-pause").addClass("dws-icomoon-play2"),s.slick("slickPause"))}),k.pauseVideoOrAudio(),p.find(".dws-media-slide-image").not(".slick-active, .slick-cloned, .dws-media-slide-360, .dws-media-slide-video").find(".spinner-container").css({display:"block"}),p.find(".dws-slick-slide").not(".slick-active, .slick-cloned, .dws-media-slide-360, .dws-media-slide-video").css({background:"rgba(194,194,194,0.15)"}),0<p.find(".dws-slick-slide-thumbnail.slick-active.dws-media-slide-image .slick-lazyload-error").length&&(p.find(".spinner-container").css({display:"none"}),p.find(".dws-slick-slide").css({background:"none"}))}).on("afterChange",function(e,i,d,o){p.find(".spinner-container").css({display:"none"}),p.find(".dws-slick-slide").css({background:"none"}),0<p.find(".dws-slick-slide-thumbnail.slick-active.dws-media-slide-image .slick-lazyload-error").length&&(p.find(".dws-media-slide-image").not(".dws-media-slide-360, .dws-media-slide-video").find(".spinner-container").css({display:"none"}),p.find(".dws-slick-slide").not(".dws-media-slide-360, .dws-media-slide-video").css({background:"none"}))}).on("lazyLoaded",function(e,i,d,o){m&&setTimeout(function(){p.find(".spinner-container").css({display:"none"}),p.find(".dws-slick-slide-thumbnail").css({background:"none"})},500),m=!1;var n,t,l,c,a=r("#DWS_Vehicle_Media.dws-vdp-media-container .dws-vdp-media-slider-thumbnail li");0<a.length&&(n=a.width()/3,t=a.height()-n,l=a.width()-n,c="color:white; text-shadow: 2px 2px black; font-size:"+n+"px",a.each(function(e,i){var d,o=r(i).find("img").attr("src")?r(i).find("img").attr("src"):"",a=r(i).hasClass("dws-media-slide-360"),s=r(i).find("img").attr("data-video-url")&&0==a?r(i).find("img").attr("data-video-url"):"";1==a&&(d=r("#DWS_Vehicle_Media.dws-vdp-media-container .dws-vdp-media-slider-thumbnail li.dws-media-slide-360 img"),r(i).find(".dws-vehicles-slider-item-thumbnail-container").css({position:"relative",display:"block"}),t=d.height()-n,l=d.width()-n,0==r(i).find(".dws-vehicles-slider-item-thumbnail-container .dws-360-media-thumbnail-icon-overlay").length&&r(i).find(".dws-vehicles-slider-item-thumbnail-container").append('\n                                    <div class="dws-360-media-thumbnail-icon-overlay" style="position:absolute; top:'+t/2+"px; left:"+l/2+'px">\n                                        <span style="'+c+'" class="dws-media-icons-360degrees"></span>\n                                    </div>')),-1===o.indexOf("youtube")&&-1===o.indexOf("videodelivery")&&-1===s.indexOf("flickfusion")||(r(i).find(".dws-vehicles-slider-item-thumbnail-container").css({position:"relative",display:"block"}),t=r(i).find(".dws-vehicles-slider-item-thumbnail-container").height()-n,l=r(i).find(".dws-vehicles-slider-item-thumbnail-container").width()-n,0==r(i).find(".dws-vehicles-slider-item-thumbnail-container .dws-video-media-thumbnail-icon-overlay").length&&r(i).find(".dws-vehicles-slider-item-thumbnail-container").append('\n                                    <div class="dws-video-media-thumbnail-icon-overlay" style="position:absolute; top:'+t/2+"px; left:"+l/2+'px">\n                                        <span style="'+c+'" class="dws-media-icons-videos-play"></span>\n                                    </div>'))}))}).on("lazyLoadError",function(e,i,d,o){d.attr("src",a.dwsDefaultNoImage),p.find(".dws-media-slide-image").not(".slick-active, .slick-cloned, .dws-media-slide-360, .dws-media-slide-video").find(".spinner-container").css({display:"block"}),p.find(".dws-slick-slide").not(".dws-media-slide-360, .dws-media-slide-video").css({background:"rgba(194,194,194,0.15)"}),0<p.find(".dws-slick-slide-thumbnail.slick-active.dws-media-slide-image .slick-lazyload-error").length&&(p.find(".spinner-container").css({display:"none"}),p.find(".dws-slick-slide").css({background:"none"}))}))},k.setupMediaIconImagePopUp=function(J,$,Z){var ee,ie=this,de=jQuery,oe=$.icons,ae=$.vdp_image_urls,e=0<J.parent().find(".dws-vdp-media-onclick-slider-modal").length?".dws-vdp-media-onclick-slider-modal, .dws-imcc-basic-photo-nav, .dws-media-icons-videos-play-popup, .dws-play-video-button":"";e&&(ee=!1,de("body").on("touchstart",function(){return!(ee=!1)}),de("body").on("touchmove",function(){ee=!0}),de("body").on("click touchend",e,function(e){var a,i,s,d,o,n,t,l,c,r,p,m,w,u,v,h,f,g,b,y,k,_,I,x,C,S,M,V,U,T,A,D,z,W,F,P,O,L,E,j,N,R,B,Q,H,K,q,X,G=$.dws_action_slides,Y=$.show_action_slides,Y=("Slider"==$.mediaDisplay||"unite-gallery"==$.mediaDisplay)&&$.show_action_slides;ee&&J.hasClass("dws-vdp-media-slider")||(a=de(e.currentTarget),i="body",o=v=d=s="",n=new Array,t=new Array,l=new Array,w=0,J.hasClass("dws-vdp-media-slider")&&(c=J.parent().find(".dws-vdp-media-slider li").hasClass("slick-slide")?".slick-slide:not(.slick-cloned)":".lslide",r=J.parent().find(".dws-vdp-media-slider li.slick-slide").hasClass("slick-active")?".slick-slide.slick-active":".lslide.active",p=".dws-vdp-media-slider li"+c+" .dws-imcc-basic-photo-nav",m=".dws-vdp-media-slider li"+r+" .dws-imcc-basic-photo-nav",w=1,"navigate to page"==$.action_on_image_click&&(p=".dws-vdp-media-slider li"+c+" .dws-imcc-navigate-to-page",m=".dws-vdp-media-slider li"+r+" .dws-imcc-navigate-to-page"),s="imageIcon"==a.data("icon")?(o="dws-viewer-popup-image-tab-active",0<J.parent().find(m).length?J.parent().find(m).data().baseImgUrl:J.parent().find(p).data().baseImgUrl):a.data().baseImgUrl,d=J.parent().find(p).attr("title"),v=J.parent().find(p).parent("li"+c).data("alt"),u=J.parent().find(p).attr("aria-label"),v=""!=v&&null!=v?v:u,J.parent().find(p).each(function(e,i){var d=de(i).data().baseImgUrl,o=de(i).attr("title"),a=""!=(a=de(i).parent("li"+c).data("alt"))&&null!=a?a:de(i).attr("aria-label");n.push(a),t.push(o),l.push(d),s===d&&(w=e)})),J.hasClass("dws-unite-gallery")&&(J.outerWidth()==de(window).width()&&J.outerHeight()==de(window).height()&&(i=J),de(window).resize(function(){J.outerWidth()==de(window).width()&&J.outerHeight()==de(window).height()?i=J:0<J.find(".dws-viewer-popup").length&&E()})),J.hasClass("dws-unite-gallery")&&oe.display_image_icon&&(h=J.find(".dws-vdp-media-image-icon").attr("ug-popup-img-index"),de.each(ae,function(e,i){l.push(i)}),s=l[h]),Y&&(f={},g=[],b=[],y=[],G.forEach(function(e){var i=e.dws_actionslides_slide_position,d=e.dws_actionslides_slide_layout,o=e.dws_actionslides_enable_slide,d='<div class="dws-action-slides-container">'+d+"</div>";o&&i.split(",").forEach(function(e){var i=isNaN(e-1)?e:""+(e-1);f[i]=__spreadArrays(f[i]||[],[d])})}),l.forEach(function(e,i){var d=g.length,o=[];b.push(e),f[i]&&!y.includes(i)?(o.push.apply(o,f[i]||[]),y.push(d)):i!=d&&f[d]&&null==f[i]||i!=d&&f[i]&&!y.includes(i)?(o.push.apply(o,f[d]||[]),y.push(d)):(o.push(b[0]),b.shift()),l.length-1==i&&o.push.apply(o,b),g.push.apply(g,o)}),f=f.last?__spreadArrays(g,f.last):g,J.hasClass("dws-vdp-media-slider")&&(k=".dws-vdp-media-slider li"+r+".dws-action-slides-main-container",_=0<J.parent().find(k).length?J.parent().find(k).data("action-slide"):J.parent().find(p).data().baseImgUrl,G.forEach(function(e){var i=e.dws_actionslides_slide_layout,d=e.dws_actionslides_enable_slide,o=e.dws_actionslides_id;d&&_==o&&(s='<div class="dws-action-slides-container">'+i+"</div>",w=J.parent().find(k).data("slick-index"))})),l=f),"videoIcon"==a.data("icon")&&(o="dws-viewer-popup-video-tab-active",x=I="",J.hasClass("dws-vdp-media-slider")&&(I=J.find(".dws-video-with-popup").attr("data-video-url")),J.hasClass("dws-unite-gallery")&&(I=$.video_url),"CLOUDFLARE"==$.video_source.toUpperCase()?x=$.video_id:s="FLICKFUSION"==$.video_source.toUpperCase()?I||"":I?I+"?autoplay=1":""),C=150,S=20,(M=0)<de("#wpadminbar").length&&(M=40),"videoIcon"==a.data("icon")&&"FLICKFUSION"==$.video_source.toUpperCase()&&(768<de(window).width()&&(C=250,S=80),1920<de(window).width()&&(C=.3*de(window).width(),S=.15*de(window).height())),V=de("<div id='"+de(a).closest(".dws-vdp-media-container").attr("id")+"_Popup' class='dws-viewer-popup'></div>").css({background:"#000",width:"100%",height:"100%",position:"fixed",top:0,left:0,opacity:.7,zIndex:1e4}),T=de("<img/>"),"videoIcon"==a.data("icon")&&(T="CLOUDFLARE"==$.video_source.toUpperCase()?de('<iframe frameborder="0" width="100%" height="100%" id="cf-iframe-popup" class="dws-cloudflare-iframe-popup" allow="autoplay *; fullscreen *; encrypted-media *" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>'):"FLICKFUSION"==$.video_source.toUpperCase()?de("<iframe title='iframe media video popup' class='dws-flick-fusion-video-iframe-popup dws-vdp-media-icon-iframe-popup' allow='autoplay *; fullscreen *; encrypted-media *' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder='0' src='"+s+"'/>"):de("<iframe title='iframe media video popup' class='dws-vdp-media-icon-iframe-popup' allow='autoplay *; fullscreen *; encrypted-media *' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder='0' src='"+s+"'/>")),"360Icon"==a.data("icon")&&(U=DWS_CONST_INV_FLICK_FUSION_360_BASE_URL.replace("{FlickFusion360MediaId}",$.flick_fusion_id),T=de("<div id='dws_360_viewer' class='dws-flick-fusion-360-iframe-popup dws-vdp-media-icon-iframe-popup'><iframe title='iframe 360 popup' allow='autoplay *; fullscreen *; encrypted-media *' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder='0' src='"+U+"'/></div>")),A=de("<div class='dws-viewer-popup-container "+o+"'></div>").css({position:"fixed",border:"solid 1px #fff",background:"#000",display:"table",zIndex:1e4}).append(de("<div class='dws-viewer-popup-image'></div>").css({textAlign:"center",verticalAlign:"middle",display:"table-cell",zIndex:1e4,height:"100%",width:"100%"}).append(T)),D=de("<div class='dws-viewer-popup-close'>close</div>").css({position:"fixed",top:S-5+M,right:C-50,color:"#fff",cursor:"pointer",fontSize:14,zIndex:1e4}),z=de("<div class='dws-viewer-popup-left-arrow'>&laquo;</div>").css({position:"fixed",left:10,color:"#fff",cursor:"pointer",fontSize:60,zIndex:1e4}).click(function(){L()}),W=de("<div class='dws-viewer-popup-right-arrow'>&raquo;</div>").css({position:"fixed",right:10,color:"#fff",cursor:"pointer",fontSize:60,zIndex:1e4}).click(function(){O()}),F=function(){Y?-1!==s.indexOf("dws-action-slides-container")?(T.parent(".dws-viewer-popup-image").find(".dws-action-slides-container").remove(),T.parent(".dws-viewer-popup-image").append(s),T.css({display:"none"})):(T.parent(".dws-viewer-popup-image").find(".dws-action-slides-container").remove(),T.css({display:""}),T.attr("src",s),T.attr("title",d),T.attr("alt",v),T.attr("onerror",'this.onerror=null;this.src="'+$.dwsDefaultNoImage+'";'),T.attr("class","dws-viewer-image-popup")):(T.attr("src",s),T.attr("title",d),T.attr("alt",v),T.attr("onerror",'this.onerror=null;this.src="'+$.dwsDefaultNoImage+'";'),T.attr("class","dws-viewer-image-popup"))},P=function(){var e=de(window).width(),i=(i=de(window).height())>window.innerHeight?window.innerHeight:i,d=e-2*C,o=i-2*S-M;A.css({top:S+M,left:C,width:d,height:o}),"videoIcon"!=a.data("icon")&&"360Icon"!=a.data("icon")&&T.css({padding:1,maxWidth:d-2,maxHeight:o-2}),z.css({top:i/2-100+M}),W.css({top:i/2-100+M})},O=function(){++w>=l.length&&(w=0),s=l[w],d=t[w],v=n[w],F(),ie.setupMediaCounter(J,".dws-viewer-popup-container",$,w+1,l.length)},L=function(){--w<0&&(w=l.length-1),s=l[w],d=t[w],v=n[w],F(),ie.setupMediaCounter(J,".dws-viewer-popup-container",$,w+1,l.length)},E=function(){de(".dws-viewer-popup").remove(),de(".dws-viewer-popup-container").remove(),de(".dws-viewer-popup-close").remove(),de(".dws-viewer-popup-left-arrow").remove(),de(".dws-viewer-popup-right-arrow").remove(),de(window).off("resize.dwsPopUp"),de(window).off("keyup.dwsPopUp")},"imageIcon"!=a.data("icon")&&!a.hasClass("dws-imcc-basic-photo-nav")||F(),P(),de(window).on("resize.dwsPopUp",function(){P()}),de(window).on("keyup.dwsPopUp",function(e){39===e.keyCode?O():37===e.keyCode?L():27===e.keyCode&&E()}),D.click(function(){E()}),V.click(function(){E()}),0<de(".dws-viewer-popup-container").length?(de(".dws-viewer-popup-container").remove(),de(".dws-viewer-popup-left-arrow").remove(),de(".dws-viewer-popup-right-arrow").remove(),de(".dws-viewer-popup-close").remove(),N="#"+(j=de(".dws-viewer-popup").attr("id")).slice(0,j.length-6)):V.appendTo(i),A.appendTo(i),D.appendTo(i),"videoIcon"!=a.data("icon")&&"360Icon"!=a.data("icon")&&(z.appendTo(i),W.appendTo(i)),"videoIcon"==a.data("icon")&&"CLOUDFLARE"==$.video_source.toUpperCase()&&(R='<div class="stream-container"><stream src="'+x+'" poster="https://videodelivery.net/'+x+'/thumbnails/thumbnail.jpg?time=1s" controls preload autoplay></stream></div>',(Q=(B=document.getElementById("cf-iframe-popup")).contentDocument).open(),Q.write('<!doctype html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>html, body {margin: 0; padding: 0; width: 100%; height: 100%; display: table; overflow: hidden;} .stream-container{text-align: center; vertical-align: middle; display: table-cell; z-index: 10000; height: 100%; width: 100%;} .dws-cloudflare-iframe-popup {margin: auto; max-width: 75%; min-width: 320px; min-height: 300px;} @media only screen and (max-width: 767px){.dws-cloudflare-iframe-popup{max-width: 95%;}}</style></head><body>'+R+"</body></html>"),Q.close(),(H=B.contentWindow.document.createElement("script")).type="text/javascript",H.src="https://embed.videodelivery.net/embed/r4xu.fla9.latest.js?video="+x,B.contentWindow.document.body.appendChild(H),de("#cf-iframe-popup").contents().find("stream").on("loadstart",function(){de("#cf-iframe-popup").css({opacity:"0"})}),de("#cf-iframe-popup").contents().find("stream").on("loadedmetadata",function(){var e,i=A.outerHeight(),d=de("#cf-iframe-popup").contents().find("html").outerHeight(),o=.85*de("#cf-iframe-popup").contents().find("html").outerWidth();i<d&&(e=i/d*o,de("#cf-iframe-popup").css({"max-width":e,"min-width":e})),de("#cf-iframe-popup").css({opacity:"1"})}),de("#cf-iframe-popup").contents().find("stream").on("error",function(){de("#cf-iframe-popup").css({opacity:"1"})})),"imageIcon"!=a.data("icon")&&!a.hasClass("dws-imcc-basic-photo-nav")||ie.setupMediaCounter(J,".dws-viewer-popup-container",$,w+1,l.length),K={mediaImageIconCount:de(N).find(".dws-media-icon-images-count").text()?de(N).find(".dws-media-icon-images-count").text():l.length,mediaIconPosition:"dws-vdp-media-top-left-pos",mediaIconPopupId:de(".dws-viewer-popup").attr("id")?de(".dws-viewer-popup").attr("id")+"_Id":""},0==a.closest(".dws-vdp-media-grid").length&&0==J.find(".dws-vdp-media-grid").length&&ie.setupMediaIcon(".dws-viewer-popup-container",$,K,Z),X=q=0,de(A).on("touchstart",function(e){q=e.originalEvent.changedTouches[0].screenX}),de(A).on("touchmove",function(e){X=e.originalEvent.changedTouches[0].screenX}),de(A).on("touchend",function(e){X<q&&O(),q<X&&L()}))}))},k.setupBigImagePopUp=function(y,k){var _=this,I=jQuery,x=!1;I("body").on("touchstart",function(){return!(x=!1)}),I("body").on("touchmove",function(){x=!0}),I("body").on("click touchend",".dws-basic-photo-nav",function(e){var i,d,o,a,s,n,t,l,c,r,p,m,w,u,v,h,f,g,b;0<I(e.currentTarget).closest(".dws-vdp-media-grid.display-numbered-row").length&&(x=!1),x||(i=I(e.currentTarget),d=I(e.currentTarget).parent().prop("tagName"),o=i.data().baseImgUrl,a=new Array,s=0,i.closest(".dws-img-with-popup-group").find(d+" .dws-basic-photo-nav").each(function(e,i){var d=I(i).data().baseImgUrl;a.push(d),o===d&&(s=e)}),(n=0)<I("#wpadminbar").length&&(n=40),t=I("<div class='dws-viewer-popup'></div>").css({background:"#000",width:"100%",height:"100%",position:"fixed",top:0,left:0,opacity:.7,zIndex:1e4}),l=I("<img/>"),c=I("<div class='dws-viewer-popup-container'></div>").css({position:"fixed",border:"solid 1px #fff",background:"#000",display:"table",zIndex:1e4}).append(I("<div class='dws-viewer-popup-image'></div>").css({textAlign:"center",verticalAlign:"middle",display:"table-cell",zIndex:1e4}).append(l)),r=I("<div class='dws-viewer-popup-close'>close</div>").css({position:"fixed",top:15+n,right:100,color:"#fff",cursor:"pointer",fontSize:14,zIndex:1e4}),p=I("<div class='dws-viewer-popup-left-arrow'>&laquo;</div>").css({position:"fixed",left:10,color:"#fff",cursor:"pointer",fontSize:60,zIndex:1e4}).click(function(){h()}),m=I("<div class='dws-viewer-popup-right-arrow'>&raquo;</div>").css({position:"fixed",right:10,color:"#fff",cursor:"pointer",fontSize:60,zIndex:1e4}).click(function(){v()}),u=function(){var e=I(window).width(),i=I(window).height(),d=e-300,o=(i=i>window.innerHeight?window.innerHeight:i)-40-n;c.css({top:20+n,left:150,width:d,height:o}),l.css({padding:1,maxWidth:d-2,maxHeight:o-2}),p.css({top:i/2-100+n}),m.css({top:i/2-100+n})},v=function(){++s>=a.length&&(s=0),o=a[s],w(),k.showVehicleImageCount&&_.setupMediaCounter(y,".dws-viewer-popup-container",k,s+1,k.vehicleImageCount)},h=function(){--s<0&&(s=a.length-1),o=a[s],w(),k.showVehicleImageCount&&_.setupMediaCounter(y,".dws-viewer-popup-container",k,s-1,k.vehicleImageCount)},f=function(){I(".dws-viewer-popup").remove(),I(".dws-viewer-popup-container").remove(),I(".dws-viewer-popup-close").remove(),I(".dws-viewer-popup-left-arrow").remove(),I(".dws-viewer-popup-right-arrow").remove(),I(window).off("resize.dwsPopUp"),I(window).off("keyup.dwsPopUp")},(w=function(){l.attr("src",o),l.attr("class","dws-viewer-image-popup")})(),u(),I(window).on("resize.dwsPopUp",function(){u()}),I(window).on("keyup.dwsPopUp",function(e){39===e.keyCode?v():37===e.keyCode?h():27===e.keyCode&&f()}),r.click(function(){f()}),t.click(function(){f()}),t.appendTo("body"),c.appendTo("body"),r.appendTo("body"),p.appendTo("body"),m.appendTo("body"),k.showVehicleImageCount&&_.setupMediaCounter(y,".dws-viewer-popup-container",k,s+1,k.vehicleImageCount),b=g=0,I(c).on("touchstart",function(e){g=e.originalEvent.changedTouches[0].screenX}),I(c).on("touchmove",function(e){b=e.originalEvent.changedTouches[0].screenX}),I(c).on("touchend",function(e){b<g&&v(),g<b&&h()}))})},k.setupMediaIconDisplayAllPhotosVertically=function(c,r,e){var p=jQuery,m=p("#image-gallery-vertical"),i=0<c.parent().find(".dws-vdp-media-onclick-slider-modal").length?".dws-vdp-media-onclick-slider-modal, .dws-media-slide-image, .dws-media-icons-videos-play-popup, .dws-play-video-button":"";k.setupMediaIcon(m,r,{mediaImageIconCount:"",mediaIconPosition:"dws-vdp-media-top-right-pos",mediaIconPopupId:""},e),m.on("show.bs.modal",function(e){k.pauseVideoOrAudio()}),m.on("hidden.bs.modal",function(e){k.pauseVideoOrAudio(),m.find(".dws-vdp-imcc-modal-container-video > *").remove()}),p("body").on("click touchend",i,function(e){var i,d,o,a,s,n,t,l=p(e.currentTarget);0<l.closest(".dws-vdp-media-grid-img-box").length||(m.find(".dws-vdp-imcc-modal-container").css({display:"none"}),0<m.find(".dws-vdp-imcc-modal-container-360 > *").length&&"360Icon"!=l.data("icon")&&m.find(".dws-vdp-imcc-modal-container-360 > *").remove(),0<m.find(".dws-vdp-imcc-modal-container-video > *").length&&"videoIcon"!=l.data("icon")&&m.find(".dws-vdp-imcc-modal-container-video > *").remove(),"imageIcon"!=l.data("icon")&&!l.hasClass("dws-media-slide-image")||("imageIcon"==l.data("icon")&&m.modal("show"),m.find(".modal-title").text("").append('<span class="dws-vdp-media-modal-icon dws-media-icons-images"></span>PHOTOS'),m.find(".dws-vdp-imcc-modal-container-photos").css({display:"block"})),"videoIcon"==l.data("icon")&&(m.modal("show"),m.find(".modal-title").text("").append('<span class="dws-vdp-media-modal-icon dws-media-icons-videos"></span>VIDEO'),m.find(".dws-vdp-imcc-modal-container-video").css({display:"block"}),o=d=i="",c.hasClass("dws-vdp-media-slider")&&(i=c.find(".dws-video-with-popup").attr("data-video-url")),o="CLOUDFLARE"==r.video_source.toUpperCase()?(d=r.video_id,p('<iframe frameborder="0" width="100%" height="100%" id="cf-iframe-popup" class="dws-cloudflare-iframe-popup" allow="autoplay *; fullscreen *; encrypted-media *" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>')):"FLICKFUSION"==r.video_source.toUpperCase()?p("<iframe title='iframe media video popup' class='dws-flick-fusion-video-iframe-popup dws-vdp-media-icon-iframe-popup' allow='autoplay *; fullscreen *; encrypted-media *' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder='0' src='"+(i||"")+"'/>"):p("<iframe title='iframe media video popup' class='dws-vdp-media-icon-iframe-popup' allow='autoplay *; fullscreen *; encrypted-media *' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder='0' src='"+(i?i+"?autoplay=1":"")+"'/>"),0==m.find(".dws-vdp-imcc-modal-container-video > *").length&&(m.find(".dws-vdp-imcc-modal-container-video").append(o),"CLOUDFLARE"==r.video_source.toUpperCase()&&(a='<div class="stream-container"><stream src="'+d+'" poster="https://videodelivery.net/'+d+'/thumbnails/thumbnail.jpg?time=1s" height="100vh" width="100vw" controls preload autoplay></stream></div>',(n=(s=document.getElementById("cf-iframe-popup")).contentDocument).open(),n.write('<!doctype html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>html, body {margin: 0; padding: 0; width: 100%; height: 100%; display: table; overflow: hidden;} .stream-container{text-align: center; vertical-align: middle; display: table-cell; z-index: 10000; height: 100%; width: 100%;} .dws-cloudflare-iframe-popup {margin: auto; max-width: 75%; min-width: 320px; min-height: 300px;} @media only screen and (max-width: 767px){.dws-cloudflare-iframe-popup{max-width: 95%;}}</style></head><body>'+a+"</body></html>"),n.close(),(t=s.contentWindow.document.createElement("script")).type="text/javascript",t.src="https://embed.videodelivery.net/embed/r4xu.fla9.latest.js?video="+d,s.contentWindow.document.body.appendChild(t),VdpPlayerTracker.bindCloudflareEvents("#image-gallery-vertical")))),"360Icon"==l.data("icon")&&(m.modal("show"),m.find(".modal-title").text("").append('<span class="dws-vdp-media-modal-icon dws-media-icons-360degrees"></span>VIEWER'),m.find(".dws-vdp-imcc-modal-container-360").css({display:"block"})))})},k.setupMediaIconDisplayPhotosInPopup=function(c,r,e){var p=jQuery,m=p("#DWS_Vehicle_Media_Modal"),a=p("#DWS_Vehicle_Media_Modal .dws-vdp-media-slider-modal"),s=p("#DWS_Vehicle_Media_Modal .dws-vdp-media-slider-thumbnail-modal"),i=0<c.parent().find(".dws-vdp-media-onclick-slider-modal").length?".dws-vdp-media-onclick-slider-modal, .dws-media-slide-image, .dws-media-icons-videos-play-popup, .dws-play-video-button":"";m.addClass("dws-media-icon-container"),r.video_id,m.on("show.bs.modal",function(e){k.pauseVideoOrAudio()}),m.on("shown.bs.modal",function(e){a.slick("refresh"),s.slick("refresh"),p("#DWS_Vehicle_Media_Modal .dws-modal-slide-prev").click(function(){a.slick("slickPrev")}),p("#DWS_Vehicle_Media_Modal .dws-modal-slide-play").click(function(){a.slick("slickNext")}),p("#DWS_Vehicle_Media_Modal .dws-modal-slide-next").click(function(){a.slick("slickNext")}),p(".dws-vehicle-media-modal .dws-small-car").on("click",function(e){1366<p(window).width()?(p(".dws-vehicle-media-modal dws-vdp-media-slider-modal-container").css("height","413px"),p(".dws-vehicle-media-modal dws-vdp-media-slider-modal-container .dws-vehicle-image-container").css("height","400px"),p(".dws-vehicle-media-modal .modal-dialog").css("width","735px"),p(".dws-large-car").removeClass("dws-active"),p(".dws-small-car").addClass("dws-active")):e.preventDefault()}),p(".dws-vehicle-media-modal .dws-large-car").on("click",function(e){1366<p(window).width()?(p(".dws-vehicle-media-modal dws-vdp-media-slider-modal-container").css("height","500px"),p(".dws-vehicle-media-modal dws-vdp-media-slider-modal-container .dws-vehicle-image-container").css("height",""),p(".dws-vehicle-media-modal .modal-dialog").css("width","900px"),p(".dws-large-car").addClass("dws-active"),p(".dws-small-car").removeClass("dws-active")):e.preventDefault()})}),m.on("hidden.bs.modal",function(e){a.slick("unslick"),s.slick("unslick"),k.pauseVideoOrAudio(),m.find(".dws-vdp-imcc-modal-container-video > *").remove()}),p(document).ready(function(){var e=p(".dws-vdp-media-slider li.dws-media-slide-image"),i=p(".dws-vdp-media-slider li.dws-media-slide-image .dws-vehicle-image-container");p(window).width()<=736&&(c.parent().find(".dws-vdp-media-icon-container").css({display:"none"}),e.attr("data-bs-toggle")&&e.attr("data-bs-target")&&(e.removeAttr("data-bs-toggle"),e.removeAttr("data-bs-target"),i.addClass("dws-img-with-popup")));var d={autoplay:!1,arrows:!0,vertical:!0,verticalSwiping:!0,draggable:!0,dots:!1,infinite:!0,asNavFor:s,lazyLoad:"anticipated"},o={autoplay:!1,arrows:!0,vertical:!0,draggable:!1,dots:!1,infinite:!0,slidesToShow:6,asNavFor:a,focusOnSelect:!0,lazyLoad:"anticipated"};s.slick(o),a.slick(d)}),p("body").on("click touchend",i,function(e){var i,d,o,a,s,n,t,l=p(e.currentTarget);0<l.closest(".dws-vdp-media-grid-img-box").length||(m.find(".dws-photos-tab, .dws-videos-tab, .dws-360-tab").removeClass("active"),m.find(".dws-vdp-imcc-modal-container, .lSSlideOuter.vertical").css({display:"none"}),0<m.find(".dws-vdp-imcc-modal-container-360 > *").length&&"360Icon"!=l.data("icon")&&m.find(".dws-vdp-imcc-modal-container-360 > *").remove(),0<m.find(".dws-vdp-imcc-modal-container-video > *").length&&"videoIcon"!=l.data("icon")&&m.find(".dws-vdp-imcc-modal-container-video > *").remove(),"imageIcon"!=l.data("icon")&&!l.hasClass("dws-media-slide-image")||(m.find(".dws-photos-tab").addClass("active"),"imageIcon"==l.data("icon")&&m.modal("show"),m.find(".dws-vdp-imcc-modal-container-photos").css({display:"flex"})),"videoIcon"==l.data("icon")&&(m.find(".dws-videos-tab").addClass("active"),m.modal("show"),m.find(".dws-vdp-imcc-modal-container-video").css({display:"block"}),o=d=i="",c.hasClass("dws-vdp-media-slider")&&(i=c.find(".dws-video-with-popup").attr("data-video-url")),o="CLOUDFLARE"==r.video_source.toUpperCase()?(d=r.video_id,p('<iframe frameborder="0" width="100%" height="100%" id="cf-iframe-popup" class="dws-cloudflare-iframe-popup" allow="autoplay *; fullscreen *; encrypted-media *" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>')):"FLICKFUSION"==r.video_source.toUpperCase()?p("<iframe title='iframe media video popup' class='dws-flick-fusion-video-iframe-popup dws-vdp-media-icon-iframe-popup' allow='autoplay *; fullscreen *; encrypted-media *' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder='0' src='"+(i||"")+"'/>"):p("<iframe title='iframe media video popup' class='dws-vdp-media-icon-iframe-popup' allow='autoplay *; fullscreen *; encrypted-media *' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder='0' src='"+(i?i+"?autoplay=1":"")+"'/>"),0==m.find(".dws-vdp-imcc-modal-container-video > *").length&&(m.find(".dws-vdp-imcc-modal-container-video").append(o),"CLOUDFLARE"==r.video_source.toUpperCase()&&(a='<div class="stream-container"><stream src="'+d+'" poster="https://videodelivery.net/'+d+'/thumbnails/thumbnail.jpg?time=1s" height="100vh" width="100vw" controls preload autoplay></stream></div>',(n=(s=document.getElementById("cf-iframe-popup")).contentDocument).open(),n.write('<!doctype html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>html, body {margin: 0; padding: 0; width: 100%; height: 100%; display: table; overflow: hidden;} .stream-container{text-align: center; vertical-align: middle; display: table-cell; z-index: 10000; height: 100%; width: 100%;} .dws-cloudflare-iframe-popup {margin: auto; max-width: 75%; min-width: 320px; min-height: 300px;} @media only screen and (max-width: 767px){.dws-cloudflare-iframe-popup{max-width: 95%;}}</style></head><body>'+a+"</body></html>"),n.close(),(t=s.contentWindow.document.createElement("script")).type="text/javascript",t.src="https://embed.videodelivery.net/embed/r4xu.fla9.latest.js?video="+d,s.contentWindow.document.body.appendChild(t),VdpPlayerTracker.bindCloudflareEvents("#DWS_Vehicle_Media_Modal")))),"360Icon"==l.data("icon")&&(m.find(".dws-360-tab").addClass("active"),m.modal("show"),m.find(".dws-vdp-imcc-modal-container-360").css({display:"block"})),"360Icon"==l.data("icon")||"videoIcon"==l.data("icon")?m.find(".dws-vdp-media-icon-control-popup").css({display:"none"}):m.find(".dws-vdp-media-icon-control-popup").css({display:"block"}))}),p(".dws-contact-tab").unbind().on("click",function(){p(".dws-vehicle-info-tab-slider").slideUp("Fast"),p(".dws-contact-tab-slider").slideToggle("Fast",function(){"block"==p(this).css("display")&&p(this).css({display:"flex"})})}),p(".dws-vehicle-info-tab").unbind().on("click",function(){p(".dws-contact-tab-slider").slideUp("Fast"),p(".dws-vehicle-info-tab-slider").slideToggle("Fast",function(){"block"==p(this).css("display")&&p(this).css({display:"flex"})})})},k.setupGridMediaPopup=function(b,y){var k=jQuery;k("body").on("touchstart",function(){return!0}),k("body").on("touchmove",function(){}),k("body").on("click touchend",".dws-vdp-media-grid-img-box .dws-vdp-media-onclick-slider-modal, .dws-vdp-media-grid-img-box .dws-imcc-basic-photo-nav, .dws-vdp-media-grid-img-box .dws-media-icons-videos-play-popup, .dws-vdp-media-grid-img-box .dws-play-video-button",function(e){var i,d,o=k(e.currentTarget),a="body",s="";"videoIcon"==o.data("icon")&&(d=i="",0<o.closest(b).length&&(i=o.closest(b).find(".dws-video-with-popup").attr("data-video-url")),"CLOUDFLARE"==y.video_source.toUpperCase()?d=y.video_id:s="FLICKFUSION"==y.video_source.toUpperCase()?i||"":i?i+"?autoplay=1":"");var n=0;0<k("#wpadminbar").length&&(n=40);var t,l=k("<div id='"+k(o).closest(".dws-vdp-media-container").attr("id")+"_Popup' class='dws-viewer-popup'></div>").css({background:"#000",width:"100%",height:"100%",position:"fixed",top:0,left:0,opacity:.7,zIndex:1e4}),c=k("<img/>");function r(){var e=k(window).width(),i=k(window).height(),d=e-300,o=(i=i>window.innerHeight?window.innerHeight:i)-40-n;f.css({top:20+n,left:150,width:d,height:o})}function p(){k(".dws-viewer-popup").remove(),k(".dws-viewer-popup-container").remove(),k(".dws-viewer-popup-close").remove(),k(window).off("resize.dwsPopUp"),k(window).off("keyup.dwsPopUp")}"videoIcon"==o.data("icon")&&(c="CLOUDFLARE"==y.video_source.toUpperCase()?k('<iframe frameborder="0" width="100%" height="100%" id="cf-iframe-popup" class="dws-cloudflare-iframe-popup" allow="autoplay *; fullscreen *; encrypted-media *" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>'):"FLICKFUSION"==y.video_source.toUpperCase()?k("<iframe title='iframe media video popup' class='dws-flick-fusion-video-iframe-popup dws-vdp-media-icon-iframe-popup' allow='autoplay *; fullscreen *; encrypted-media *' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder='0' src='"+s+"'/>"):k("<iframe title='iframe media video popup' class='dws-vdp-media-icon-iframe-popup' allow='autoplay *; fullscreen *; encrypted-media *' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder='0' src='"+s+"'/>")),"360Icon"==o.data("icon")&&(t=DWS_CONST_INV_FLICK_FUSION_360_BASE_URL.replace("{FlickFusion360MediaId}",y.flick_fusion_id),c=k("<div id='dws_360_viewer' class='dws-flick-fusion-360-iframe-popup dws-vdp-media-icon-iframe-popup'><iframe title='iframe 360 popup' allow='autoplay *; fullscreen *; encrypted-media *' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder='0' src='"+t+"'/></div>"));var m,w,u,v,h,f=k("<div class='dws-viewer-popup-container'></div>").css({position:"fixed",border:"solid 1px #fff",background:"#000",display:"table",zIndex:1e4}).append(k("<div class='dws-viewer-popup-image'></div>").css({textAlign:"center",verticalAlign:"middle",display:"table-cell",zIndex:1e4,height:"100%",width:"100%"}).append(c)),g=k("<div class='dws-viewer-popup-close'>close</div>").css({position:"fixed",top:15+n,right:100,color:"#fff",cursor:"pointer",fontSize:14,zIndex:1e4});r(),k(window).on("resize.dwsPopUp",function(){r()}),k(window).on("keyup.dwsPopUp",function(e){27===e.keyCode&&p()}),g.click(function(){p()}),l.click(function(){p()}),0<k(".dws-viewer-popup-container").length?(k(".dws-viewer-popup-container").remove(),k(".dws-viewer-popup-close").remove(),(m=k(".dws-viewer-popup").attr("id")).slice(0,m.length-6)):l.appendTo(a),f.appendTo(a),g.appendTo(a),"videoIcon"==o.data("icon")&&"CLOUDFLARE"==y.video_source.toUpperCase()&&(w='<div class="stream-container"><stream src="'+d+'" poster="https://videodelivery.net/'+d+'/thumbnails/thumbnail.jpg?time=1s" controls preload autoplay></stream></div>',(v=(u=document.getElementById("cf-iframe-popup")).contentDocument).open(),v.write('<!doctype html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>html, body {margin: 0; padding: 0; width: 100%; height: 100%; display: table; overflow: hidden;} .stream-container{text-align: center; vertical-align: middle; display: table-cell; z-index: 10000; height: 100%; width: 100%;} .dws-cloudflare-iframe-popup {margin: auto; max-width: 75%; min-width: 320px; min-height: 300px;} @media only screen and (max-width: 767px){.dws-cloudflare-iframe-popup{max-width: 95%;}}</style></head><body>'+w+"</body></html>"),v.close(),(h=u.contentWindow.document.createElement("script")).type="text/javascript",h.src="https://embed.videodelivery.net/embed/r4xu.fla9.latest.js?video="+d,u.contentWindow.document.body.appendChild(h),VdpPlayerTracker.bindCloudflareEvents(".dws-viewer-popup-container"))})},k.createIframeElementForCloudflareVideo=function(e,i,d){var o,a,s,n;0<d.length&&(o='<stream src="'+i.video_id+'" poster="https://videodelivery.net/'+i.video_id+'/thumbnails/thumbnail.jpg?time=1s" width="100%" height="100%" controls preload></stream>',(a=document.createElement("iframe")).frameborder="0",a.frameBorder="0",a.marginheight="0",a.marginwidth="0",a.frameborder="0",a.setAttribute("allow","autoplay *; fullscreen *; encrypted-media *"),a.setAttribute("allowFullScreen",""),a.setAttribute("webkitallowfullscreen",""),a.setAttribute("mozallowfullscreen",""),d.append(a),(s=a.contentDocument).open(),s.write("<!doctype html><html><head><style>html, body {margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; }</style></head><body>"+o+"</body></html>"),s.close(),(n=a.contentWindow.document.createElement("script")).type="text/javascript",n.src="https://embed.videodelivery.net/embed/r4xu.fla9.latest.js?video="+i.video_id,a.contentWindow.document.body.appendChild(n))},k.setupMediaIcon=function(e,i,d,o){var a,s,n,t,l,c,r=jQuery,p=r("#DWS_VDP_Vehicle_Media_Icons_Template").html(),m="",w="",u=i.icons,v=u.display_image_icon?"":"d-none",w=u.display_video_icon?"":"d-none",h=u.display_360_icon?"":"d-none",f=u.display_share_icon?"":"d-none",h=i.flick_fusion_id&&u.display_360_icon?"":"d-none",g=v&&w&&h&&f?"":"d-none",b=r('<div id="'+d.mediaIconPopupId+'" class="dws-vdp-media-icon-container '+(d.mediaIconPosition?d.mediaIconPosition:"dws-vdp-media-bottom-left-pos")+'"></div>'),y="";"Slider"==i.mediaDisplay&&0<r(e).closest(".dws-vdp-vehicle-media-slider-container").length&&(m=r(e).closest(".dws-vdp-vehicle-media-slider-container ul.dws-vdp-media-slider"),y=r(e).closest(".dws-vdp-vehicle-media-slider-container").find(".dws-video-with-popup").attr("data-video-url")),r(e).hasClass("dws-viewer-popup-container")&&(s="#"+(a=r(".dws-viewer-popup").attr("id")).slice(0,a.length-6),m=r(e),0<r(s).find(".ug-slider-wrapper").length&&(y=i.video_url),0<r(s).find(".dws-vdp-media-slider").length&&(y=r(".dws-vdp-media-container").find(".dws-video-with-popup").attr("data-video-url")?r(".dws-vdp-media-container").find(".dws-video-with-popup").attr("data-video-url"):"")),r(e).hasClass("dws-vdp-media-modal-container")&&(a=r(e).attr("id"),s="#DWS_Vehicle_Media",m=r(e).find(".modal-header"),y=r(s).find(".dws-video-with-popup").attr("data-video-url")),g&&(w="CLOUDFLARE"==i.video_source.toUpperCase()?i.video_id&&u.display_video_icon?"":"d-none":y&&u.display_video_icon?"":"d-none","layout_1"==i.mediaLayout&&(""!=m&&(m=m.parent()),r(e).hasClass("dws-viewer-popup-container")&&(m=r(e))),m&&m.append(b),v=0<i.vehicleImageCount&&""!=u.display_image_icon?"":"d-none",b.append(p),b.find(".dws-vdp-media-image-icon").addClass(v),b.find(".dws-vdp-media-video-icon").addClass(w),b.find(".dws-vdp-media-360-icon").addClass(h),b.find(".dws-vdp-media-share-icon").addClass(f),b.find(".dws-vdp-media-image-icon .dws-media-icon-images-count").text(" "+i.vehicleImageCount),n=parseInt(u.display_image_icon)?u.display_image_icon:"",t=parseInt(u.display_video_icon)?u.display_video_icon:"",l=parseInt(u.display_360_icon)?u.display_360_icon:"",c=parseInt(u.display_share_icon)?u.display_share_icon:"",b.find(".dws-vdp-media-image-icon").css({order:n}),b.find(".dws-vdp-media-video-icon").css({order:t}),b.find(".dws-vdp-media-360-icon").css({order:l}),b.find(".dws-vdp-media-share-icon").css({order:c}),k.pauseVideoOrAudio())},k.setupVideoModal=function(e,i,d){void 0===i&&(i=""),void 0===d&&(d="");var o,a,s,n,t,l,c,r,p=jQuery;d.video_url_id&&"cloudflare"==d.video_url_source?(o=p("#dwsVideoModal"),a=p('<iframe frameborder="0" width="100%" height="100%" id="cf-iframe-popup" allow="autoplay *; fullscreen *; encrypted-media *" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>'),s=o.find(".cf_container"),o.find(".dws-modal-vehicle-title").empty().append("Vehicle Video"),s.empty(),s.append(a),n='<div class="stream-container"><stream src="'+d.video_url_id+'" poster="https://videodelivery.net/'+d.video_url_id+'/thumbnails/thumbnail.jpg?time=1s" height="100vh" width="100vw" controls preload autoplay></stream></div>',(l=(t=document.getElementById("cf-iframe-popup")).contentDocument).open(),l.write('<!doctype html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>html, body {margin: 0; padding: 0; width: 100%; height: 100%; display: table; overflow: hidden;} .stream-container{text-align: center; vertical-align: middle; display: table-cell; z-index: 10000; height: 100%; width: 100%;} .dws-cloudflare-iframe-popup {margin: auto; max-width: 75%; min-width: 320px; min-height: 300px;} @media only screen and (max-width: 767px){.dws-cloudflare-iframe-popup{max-width: 95%;}}</style></head><body>'+n+"</body></html>"),l.close(),(c=t.contentWindow.document.createElement("script")).type="text/javascript",c.src="https://embed.videodelivery.net/embed/r4xu.fla9.latest.js?video="+d.video_url_id,t.contentWindow.document.body.appendChild(c),o.modal("show"),p("#dwsVideoModal").on("hidden.bs.modal",function(e){p("#dwsVideoModal").find("#cf-iframe-popup").remove()})):"FLICKFUSION"==d.video_url_source?(eModal.setModalOptions({keyboard:!0,backdrop:""}),(r=(r=eModal.iframe(e,"Vehicle Video").element).closest(".modal")).on("hidden.bs.modal",function(){i&&i.pause(),r.remove(),eModal.setModalOptions({keyboard:!1,backdrop:"static"})})):(eModal.setModalOptions({keyboard:!0,backdrop:""}),(r=(r=eModal.iframe(e+"?autoplay=true","Vehicle Video").element).closest(".modal")).on("hidden.bs.modal",function(){i&&i.pause(),r.remove(),eModal.setModalOptions({keyboard:!1,backdrop:"static"})}))},k.pauseVideoOrAudio=function(){var e=jQuery;e("video, stream").trigger("pause"),e("audio").trigger("pause"),e("iframe").contents().find("video, stream, audio").each(function(){e(this).trigger("pause")})},k.updateImageUrlForBetterQuality=function(){var d=jQuery;700<d(window).width()?d(".dws-vdp-media-container ul li .dws-vehicle-image-container, .dws-vdp-media-container .dws-vdp-media-grid .dws-vehicle-image-container, .dws-vehicle-media-modal ul li .dws-vehicle-image-container").each(function(e,i){d(i).data("dwsBackgroundImage")&&d(i).css("backgroundImage","url("+d(i).data("dwsBackgroundImage").replace("/640/480/","/1280/960/")+")")}):d(".dws-vdp-media-container ul li .dws-vehicle-image-container, .dws-vdp-media-container .dws-vdp-media-grid .dws-vehicle-image-container, .dws-vehicle-media-modal ul li .dws-vehicle-image-container").each(function(e,i){d(i).css("backgroundImage","url("+d(i).data("dwsBackgroundImage")+")")})},k.setupMediaCounter=function(e,i,d,o,a){void 0===o&&(o=1),void 0===a&&(a=1);var s=jQuery,n="",t="";if(0<s(e).closest(".dws-vdp-vehicle-media-slider-container").length){if(d.showVehicleImageCount){var l=e.find(".dws-vdp-media-slider");if("layout_1"==d.mediaLayout&&(l=l.parent()),l){switch(d.vehicleImageCountPosition){case"dws-vdp-media-bottom-left-pos":t="left: 5%;bottom: 1%;margin-bottom: 5px;right: auto;";break;case"dws-vdp-media-bottom-right-pos":t="right: 5%;bottom: 1%;margin-bottom: 5px;";break;case"dws-vdp-media-bottom-center-pos":t="bottom: 1%;left: 0;right: 0;width: 80px;margin: 0px auto 5px auto;justify-content: center;text-align: center;";break;case"dws-vdp-media-top-left-pos":t="left: 5%;top: 1%;right: auto;bottom: auto;margin-top: 5px;";break;case"dws-vdp-media-top-right-pos":t="right: 5%;top: 1%;bottom: auto;margin-top: 5px;";break;case"dws-vdp-media-top-center-pos":t="top: 1%;left: 0;right: 0;width: 80px;margin: 5px auto 0px auto;justify-content: center;text-align: center;bottom: auto;";break;case"dws-vdp-media-vertical-left-pos":t="left: 50px;top: 50%;flex-flow: column nowrap;text-align: center;transform: translateY(-50%);right: auto;bottom: auto;";break;case"dws-vdp-media-vertical-right-pos":t="right: 50px;top: 50%;flex-flow: column nowrap;text-align: center;transform: translateY(-50%);bottom: auto;";break;default:t=""}t=""!=t?'style="'+t+'"':""}}".dws-viewer-popup-container"==i&&(t='style="'+(t="right: 5%;bottom: 1%;margin-bottom: 5px;")+'"'),0<(n=s(i)).find(".dws-vdp-media-counter-container").length?(n.find(".dws-vdp-media-current-count").text(o),n.find(".dws-vdp-media-total-count").text(a)):n.append(s('\n                        <div class="dws-vdp-media-counter-container" '+t+'>\n                            <span class="dws-vdp-media-current-count">'+o+'</span> of <span class="dws-vdp-media-total-count">'+a+"</span>\n                        </div>\n                    "))}},o=k,d.DWSVehicleMedia=o}(DealerCenter=DealerCenter||{}),jQuery(function(){DealerCenter.WebSite.Plugins.DWSVehicleMedia.init()});